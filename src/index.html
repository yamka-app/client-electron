<!DOCTYPE html>
<html>
  <!--
    This Source Code Form is subject to the terms of the Mozilla Public
    License, v. 2.0. If a copy of the MPL was not distributed with this
    file, You can obtain one at http://mozilla.org/MPL/2.0/.
  -->
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="
            default-src 'self' https://www.youtube.com/;
            style-src 'self' 'unsafe-inline' file://*; 
            img-src 'self' https://twemoji.maxcdn.com/ https://i.ytimg.com/ data:;
            script-src 'self' 'unsafe-eval' https://twemoji.maxcdn.com/;
            frame-src https://*.youtube.com https://youtube.com https://open.spotify.com;
            connect-src https://yamka.app;
            worker-src 'self' blob:">

    <title>Yamka</title>

    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <link rel="stylesheet" type="text/css" href="./css/switch.css">
    <link rel="stylesheet" type="text/css" href="./css/popups.css">
    <link rel="stylesheet" type="text/css" href="./css/group_panels.css">
    <link rel="stylesheet" type="text/css" href="./css/group_invites.css">
    <link rel="stylesheet" type="text/css" href="./css/voice.css">
    <link rel="stylesheet" type="text/css" href="./css/context.css">
    <link rel="stylesheet" type="text/css" href="./css/polls.css">
    <link rel="stylesheet" type="text/css" href="./css/notif.css">
    <link rel="stylesheet" type="text/css" href="./css/account_selector.css">
    <link rel="stylesheet" type="text/css" href="./css/e2ee.css">
    <link rel="stylesheet" type="text/css" href="./css/hover_text.css">
    <link rel="stylesheet" type="text/css" href="./css/message_input.css">
    <link rel="stylesheet" type="text/css" href="./css/language_selector.css">
    <link id="theme-css" rel="stylesheet" type="text/css" href="themes/dark.css">
    <link rel="stylesheet" href="../node_modules/highlight.js/styles/gruvbox-dark.css">

    <script src="../node_modules/colorthief/dist/color-thief.umd.js"></script>
    <script src="./web-voice-processor.js"></script>

    <!--JS files are generated by the TS compiler-->
    <script type="module" src="./js/esnext/protocol.s/entities.s.js"></script>
    <script type="module" src="./js/esnext/protocol.s/packets.s.js"></script>
    
    <script type="module" src="./js/esnext/renderer/renderer.js"></script>
    <script type="module" src="./js/esnext/renderer/tasty_plug.js"></script>
    <script type="module" src="./js/esnext/renderer/settings.js"></script>
    <script type="module" src="./js/esnext/renderer/util.js"></script>
    <script type="module" src="./js/esnext/renderer/context.js"></script>

    <script type="module" src="./js/esnext/renderer/dom_util/dom_util.js"></script>
    <script type="module" src="./js/esnext/renderer/dom_util/layout.js"></script>
    <script type="module" src="./js/esnext/renderer/dom_util/msg_util.js"></script>
    <script type="module" src="./js/esnext/renderer/dom_util/notif.js"></script>
    <script type="module" src="./js/esnext/renderer/dom_util/account_selector.js"></script>
  </head>

  <body>
    <div id="connecting-screen-bg" class="darken-bg">
      <div id="connecting-screen" class="flex-col">
        <span x-key="connecting.title"></span>
        <div class="loading-spinner">
          <div></div>
        </div>
        <span x-key="connecting.tooltip"></span>
        <button id="connecting-tweet" x-key="connecting.tweet"></button>
      </div>
    </div>

    <div id="floating-message-bg" class="darken-bg" style="display: none;">
      <div id="floating-message">
        <!--The floating message will be here-->
      </div>
    </div>

    <div id="floating-image-bg" class="darken-bg" style="display: none;">
      <!--The floating image will be here-->
    </div>

    <div id="group-delete-box-bg" class="darken-bg" style="display: none;">
      <div id="group-delete-box" class="flex-col">
        <h6 x-key="group_delete.warning"></h6>
        <p x-key="group_delete.irreversible"></p>
        <button id="group-delete-revert" class="apply-button" x-key="group_delete.revert"></button>
        <p id="group-delete-name" x-key="group_delete.tooltip"></p>
        <input id="group-delete-name-input"/>
        <button id="group-delete-confirm" class="danger-button" x-key="group_delete.confirm"></button>
      </div>
    </div>

    <div id="contact-remove-box-bg" class="darken-bg" style="display: none;">
      <div id="contact-remove-box" class="flex-col">
        <span id="contact-remove-title"></span>
        <button id="contact-remove-confirm" class="danger-button" x-key="yes"></button>
        <button id="contact-remove-cancel" x-key="no"></button>
      </div>
    </div>

    <div id="password-chg-box-bg" class="darken-bg" style="display: none;">
      <div id="password-chg-box" class="flex-col">
        <input id="password-chg-current" type="password" x-key-ph="password_chg.current"/>
        <input id="password-chg-mfa" x-key-ph="password_chg.2fa"/>
        <input id="password-chg-new" x-key-ph="password_chg.new" type="password"/>
        <button id="password-chg-ok" class="apply-button" x-key="password_chg.confirm"></button>
        <button id="password-chg-cancel" x-key="password_chg.cancel"></button>
      </div>
    </div>

    <div id="mfa-toggle-box-bg" class="darken-bg" style="display: none;">
      <div id="mfa-toggle-box" class="flex-col">
        <input id="mfa-toggle-password" type="password" x-key-ph="mfa_toggle.password"/>
        <button id="mfa-toggle-ok" class="apply-button" x-key="mfa_toggle.confirm"></button>
        <button id="mfa-toggle-cancel" x-key="mfa_toggle.cancel"></button>
      </div>
    </div>

    <div id="profile-bg" class="darken-bg" style="display: none;">
      <div id="profile" class="flex-col">
        <div id="profile-topbar" class="flex-col">
          <div class="flex-row">
            <img id="profile-avatar" class="user-avatar-huge"/>
            <div id="profile-nickname-container" class="flex-row">
              <span id="profile-nickname" class="user-nickname">loading</span>
              <span id="profile-tag" class="user-tag">#11111</span>
              <input id="profile-note" class="user-note" x-key-ph="profile.add_note"/>
              <span id="profile-badges" class="flex-row"></span>
            </div>
          </div>
          <div class="flex-row">
            <input id= "profile-tab-groups" type="radio" name="profile-tabs" checked="checked"/>
            <label for="profile-tab-groups" x-key="profile.mutual_groups"></label>

            <input id= "profile-tab-friends" type="radio" name="profile-tabs"/>
            <label for="profile-tab-friends" x-key="profile.mutual_friends"></label>

            <input id= "profile-tab-activity" type="radio" name="profile-tabs"/>
            <label for="profile-tab-activity" x-key="profile.activity"></label>
          </div>
        </div>
        <div id="profile-groups" class="profile-tab">

        </div>
        <div id="profile-friends" class="profile-tab">

        </div>
        <div id="profile-activity" class="profile-tab">
          <span>...coming soon...</span>
        </div>
      </div>
    </div>

    <div id="group-create-box-bg" class="darken-bg" style="display: none;">
      <div id="group-create-box" class="flex-col">
        <span x-key="group_create_box.create.title"></span>
        <input id="group-create-name" class="fill-width" x-key-ph="group_create_box.create.name"/>
        <button id="group-create-ok" class="accent-button fill-width" x-key="group_create_box.create.button"></button>

        <span x-key="group_create_box.join.title"></span>
        <input id="group-join-code" class="fill-width" x-key-ph="group_create_box.join.invite"/>
        <button id="group-join-ok" class="fill-width" x-key="group_create_box.join.button"></button>
      </div>
    </div>

    <div id="update-popup" class="flex-col" style="display: none;">
      <span style="font-size: 15px;" x-key="update_available.title"></span>
      <span id="update-popup-text">OLD â†’ NEW</span>

      <button id="update-popup-upd" class="accent-button fill-width" style="margin-top: 20px;" x-key="update_available.confirm"></button>
      <button id="update-popup-ign" class="fill-width" style="margin-top: 10px;" x-key-tt="update_available.notice" x-key="update_available.ignore"></button>
    </div>

    <div id="message-history-bg" class="popup-bg" style="display: none;">
      <div id="message-history" class="flex-col">
        <!-- Message states go here -->
      </div>
    </div>

    <div id="notification-list">

    </div>

    <table id="capital-layout">
      <tr style="height: fit-content"><td style="padding: 0; vertical-align: top;">
        <div id="title-bar">
          <div id="title-text">Yamka - Alpha</div>
          <div id="title-status"></div>

          <div id="title-bar-buttons">
            <img src="icons/dark.png" style="margin-bottom: 1px;"/>
            <label class="switch" style="margin-left: 0; margin-top: 2px;">
              <input id="theme-switch" type="checkbox"/>
              <span class="slider round"></span>
            </label>
            <img src="icons/light.png" style="margin-right: 5px; margin-bottom: 1px;"/>

            <button class="title-bar-button" id="minimize-button"><img src="icons/minimize.png"/></button>
            <button class="title-bar-button" id="maximize-button"><img src="icons/maximize.png"/></button>
            <button class="title-bar-button" id="close-button"><img src="icons/close.png"/></button>
          </div>
        </div>
      </td></tr>

      <tr id="email-unconfirmed-bar-container" style="height: fit-content; display: none;"><td style="padding: 0; vertical-align: top;">
        <div id="email-unconfirmed-bar">
          <span x-key="email_unconfirmed"></span>
        </div>
      </td></tr>

      <tr style="display: none;" id="main-layout-container"><td style="padding: 0">
        <div id="user-settings-bg" class="darken-bg" style="display: none;">
          <div id="user-settings">
            <div id="user-settings-sidebar">
              <button id="user-settings-exit" class="menu-exit"></button>

              <input id= "user-settings-section-profile-sel" type="radio" name="user-settings-sections" class="settings-radio" checked="checked"/>
              <label for="user-settings-section-profile-sel" class="settings-section-sel" x-key="user_settings.profile.title"></label>

              <input id= "user-settings-section-notifications-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-notifications-sel" class="settings-section-sel" x-key="user_settings.notifications.title"></label>

              <input id= "user-settings-section-content-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-content-sel" class="settings-section-sel" x-key="user_settings.content.title"></label>

              <input id= "user-settings-section-appearance-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-appearance-sel" class="settings-section-sel" x-key="user_settings.appearance.title"></label>

              <input id= "user-settings-section-audio-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-audio-sel" class="settings-section-sel" x-key="user_settings.audio.title"></label>

              <input id= "user-settings-section-lang-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-lang-sel" class="settings-section-sel">LANGUAGE</label>

              <input id= "user-settings-section-about-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-about-sel" class="settings-section-sel" x-key="user_settings.about.title"></label>

              <input id= "user-settings-section-developers-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-developers-sel" class="settings-section-sel" x-key="user_settings.developers.title"></label>

              <input id= "user-settings-section-logout-sel" type="radio" name="user-settings-sections" class="settings-radio"/>
              <label for="user-settings-section-logout-sel" class="settings-section-sel" style="color: var(--red-color);" x-key="user_settings.log_out.title"></label>
            </div>

            <div id="user-settings-section-profile" class="settings-section user-settings-section">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.profile.title"></span>
                <div class="flex-row">
                  <div id="self-avatar-change-container">
                    <img id="self-avatar-huge" class="user-avatar-huge"/>
                    <div id="self-avatar-change" x-key="user_settings.profile.avatar_change"></div>
                  </div>
                  <div id="self-profile-settings-inputs">
                    <div class="self-profile-setting-input-container">
                      <span x-key="user_settings.profile.username"></span>
                      <div>
                        <input id="self-name-change"/>
                        <span id="self-tag-settings" class="user-tag" x-key-tt="tooltips.profile_tag"></span>
                      </div>
                    </div>

                    <div class="self-profile-setting-input-container">
                      <span x-key="user_settings.profile.status"></span>
                      <span id="self-status-switch" class="radio-switch">
                        <span>
                          <img src="./icons/online.png"/>
                          <input id= "self-status-online" type="radio" name="self-status-sel" checked="checked"/>
                          <label for="self-status-online" class="status-sel" x-key="user_settings.profile.status.online"></label>
                        </span>
                        <span >
                          <img src="./icons/offline.png"/>
                          <input id= "self-status-offline" type="radio" name="self-status-sel" class="hidden-radio"/>
                          <label for="self-status-offline" class="status-sel" x-key="user_settings.profile.status.offline"></label>
                        </span>
                        <span>
                          <img src="./icons/idle.png"/>
                          <input id= "self-status-idle" type="radio" name="self-status-sel" class="hidden-radio"/>
                          <label for="self-status-idle" class="status-sel" x-key="user_settings.profile.status.idle"></label>
                        </span>
                        <span>
                          <img src="./icons/focus.png"/>
                          <input id= "self-status-focus" type="radio" name="self-status-sel" class="hidden-radio"/>
                          <label for="self-status-focus" class="status-sel" x-key="user_settings.profile.status.focused" x-key-tt="user_settings.profile.status.focused.tooltip"></label>
                        </span>
                        <span>
                          <img src="./icons/dnd.png"/>
                          <input id= "self-status-dnd" type="radio" name="self-status-sel" class="hidden-radio"/>
                          <label for="self-status-dnd" class="status-sel" x-key="user_settings.profile.status.dnd" x-key-tt="user_settings.profile.status.dnd.tooltip"></label>
                        </span>
                      </span>

                      <div class="self-profile-setting-input-container">
                        <span x-key="user_settings.profile.status_text"></span>
                        <input id="self-status-text-change"/>
                      </div>

                      <div class="self-profile-setting-input-container">
                        <span x-key="user_settings.profile.favorite_color"></span>
                        <input id="self-fav-color-change" type="color"/>
                      </div>

                      <div class="self-profile-setting-input-container" x-key="user_settings.profile.enter_tip"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.profile.agents"></span>
                <div id="agent-list" class="flex-col">
                </div>
              </div>

              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.profile.auth"></span>
                <div class="self-profile-setting-input-container">
                  <span x-key="user_settings.profile.email"></span>
                  <input id="self-email-change"/>
                </div>
                <div id="email-conf-cont" class="self-profile-setting-input-container">
                  <span x-key="user_settings.profile.email.code"></span>
                  <input id="self-email-confirm"/>
                </div>
                <div class="self-profile-setting-input-container">
                  <span id="self-mfa-enable-status" x-key="user_settings.profile.mfa_status"></span>
                  <button id="self-mfa-toggle-button" class="danger-button" x-key="user_settings.profile.mfa_toggle"></button>
                </div>
                <div class="self-profile-setting-input-container">
                  <button id="self-password-change-button" class="danger-button" x-key="user_settings.profile.change_password"></button>
                </div>
              </div>
            </div>

            <div id="user-settings-section-about" class="settings-section user-settings-section" style="display: none;">
              <img id="about-logo" src="logo.png"><br>
              <span id="client-version" x-key="user_settings.about.client_version"></span>
              <p x-key="user_settings.about.title"></p>
              <span x-key="user_settings.about.text"></span>
              <button id="view-on-github" class="accent-button" x-key="user_settings.about.github"></button>
              <button id="donate" class="accent-button" x-key="user_settings.about.donate">Donate money</button>
              <br>

              <p x-key="user_settings.about.technologies"></p>
              <span x-key="user_settings.about.technologies.lin_win_clients"></span>
              <span x-key="user_settings.about.technologies.backend"></span>
              <span x-key="user_settings.about.technologies.website"></span>

              <p x-key="user_settings.about.credits"></p>
              <span>End-to-End Encryption scheme invented by <a href="https://www.signal.org/docs">Signal</a></span>
              <span>Icons by <a href="https://icons8.com">Icons8</a></span>
              <span><a href="https://twemoji.twitter.com">Twemoji</a> by Twitter</span>
              <span>Montserrat by the Montserrat Project authors</span>
              <span>Noto Sans by Google</span>
              <span><a href="https://www.jetbrains.com/lp/mono">JetBrains Mono</a> by JetBrains</span><br>
              Thanks to:<br>
              <span><a href="https://github.com/hetyh">hetyh</a> and LukasTM for suporting the project financially</span>
              <span><a href="https://github.com/StaticSaga">StaticSaga</a>,
                  <a href="https://github.com/FlyingPotato-131">FlyingPotato_131</a>,
                  <a href="https://github.com/hetyh">hetyh</a>
                  and <a href="https://github.com/NOTNOTsergey">pySAr5</a> for testing</span>

              <p x-key="user_settings.about.created_by"></p>
              <span><a href="https://github.com/portasynthinca3">portasynthinca3</a></span>
            </div>

            <div id="user-settings-section-notifications" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.notifications.title"></span>
                <div class="self-profile-setting-input-container">
                  <div class="setting-switch">
                    <label class="switch" style="margin-left: 0; margin-top: 2px;">
                      <input id="enable-notifications" type="checkbox"/>
                      <span class="slider round"></span>
                    </label>
                    <span x-key="user_settings.notifications.receive"></span>
                  </div>
                  <div class="setting-switch">
                    <label class="switch" style="margin-left: 0; margin-top: 2px;">
                      <input id="send-typing" type="checkbox"/>
                      <span class="slider round"></span>
                    </label>
                    <span x-key="user_settings.notifications.typing"></span>
                  </div>
                </div>
              </div>
            </div>

            <div id="user-settings-section-audio" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.audio.title"></span>
                <div class="self-profile-setting-input-container">
                  <div class="self-profile-setting-input-container">
                    <span x-key="user_settings.audio.mic_volume"></span>
                    <input id="mic-gain" type="range" min="0" max="2" step="0.001" class="trackbar">
                    <progress id="mic-vol-val" value="0" max="1" class="fill-width"></progress>
                  </div>
                  <div class="self-profile-setting-input-container">
                    <span x-key="user_settings.audio.mic_thres"></span>
                    <input id="mic-thres" type="range" min="0" max="1" step="0.001" class="trackbar">
                  </div>
                </div>
              </div>
            </div>

            <div id="user-settings-section-content" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.content.title"></span>
                <div class="self-profile-setting-input-container">
                  <div class="setting-switch">
                    <label class="switch" style="margin-left: 0; margin-top: 2px;">
                      <input id="preview-yt" type="checkbox"/>
                      <span class="slider round"></span>
                    </label>
                    <span x-key="user_settings.content.preview"></span>
                  </div>
                  <div class="setting-switch">
                    <label class="switch" style="margin-left: 0; margin-top: 2px;">
                      <input id="blur-unfocused" type="checkbox"/>
                      <span class="slider round"></span>
                    </label>
                    <span x-key="user_settings.content.blur"></span>
                  </div>
                </div>
              </div>
            </div>

            <div id="user-settings-section-appearance" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.appearance.title"></span>
                <div class="self-profile-setting-input-container">
                  <span x-key="user_settings.appearance.accent"></span>
                  <input id="accent-color-change" type="color"/>
                </div>
                <div class="self-profile-setting-input-container">
                  <span id="theme-name" x-key="user_settings.appearance.theme"></span>
                  <button id="theme-change" class="apply-button" x-key="user_settings.appearance.load_theme"></button>
                  <br>
                  <a href="https://github.com/yamka-app/client-electron/wiki/Writing-custom-themes" x-key="user_settings.appearance.theming_docs"></a>
                </div>
              </div>
            </div>

            <div id="user-settings-section-developers" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="user_settings.developers.title"></span>
                <div class="self-profile-setting-input-container">
                  <div class="setting-switch">
                    <label class="switch" style="margin-left: 0; margin-top: 2px;">
                      <input id="en-sslkeylog" type="checkbox"/>
                      <span class="slider round"></span>
                    </label>
                    <span x-key-tt="user_settings.developers.keylog.tooltip" x-key="user_settings.developers.keylog"></span>
                  </div>
                  <!--
                  <div class="self-profile-setting-input-container">
                    <input id="create-bot-name" placeholder="Bot name"/>
                    <button id="create-bot" class="apply-button">CREATE A BOT</button>
                  </div>
                  <div class="self-profile-setting-input-container">
                    <span>YOUR BOTS: </span><span id="owned-bot-list"></span>
                  </div>
                  -->
                </div>
              </div>
            </div>

            <div id="user-settings-section-lang" class="settings-section user-settings-section" style="display: none;">
              <div class="settings-subsection">
                <span class="settings-subsection-title">LANGUAGE</span>
                <div id="language-list">

                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="group-settings-bg" class="darken-bg" style="display: none;">
          <div id="group-settings">
            <div id="group-settings-sidebar">
              <button id="group-settings-exit" class="menu-exit"></button>

              <input id= "group-settings-section-general-sel" type="radio" name="group-settings-sections" class="settings-radio" checked="checked"/>
              <label for="group-settings-section-general-sel" class="settings-section-sel" x-key="group_settings.general.title"></label>

              <input id= "group-settings-section-roles-sel" type="radio" name="group-settings-sections" class="settings-radio" checked="checked"/>
              <label for="group-settings-section-roles-sel" class="settings-section-sel" x-key="group_settings.roles.title"></label>

              <input id= "group-settings-section-channels-sel" type="radio" name="group-settings-sections" class="settings-radio" checked="checked"/>
              <label for="group-settings-section-channels-sel" class="settings-section-sel" x-key="group_settings.channels.title"></label>

              <input id= "group-settings-section-invites-sel" type="radio" name="group-settings-sections" class="settings-radio" checked="checked"/>
              <label for="group-settings-section-invites-sel" class="settings-section-sel" x-key="group_settings.invites.title"></label>

              <input id= "group-settings-section-delete-sel" type="radio" name="group-settings-sections" class="settings-radio"/>
              <label for="group-settings-section-delete-sel" class="settings-section-sel" style="color: var(--red-color);" x-key="group_settings.delete.title"></label>
            </div>

            <div id="group-settings-section-general" class="settings-section group-settings-section">
              <div id="group-general-settings" class="settings-subsection">
                <span class="settings-subsection-title" x-key="group_settings.general.title"></span>
                <div class="flex-row">
                  <div id="group-icon-change-container">
                    <img id="group-icon-huge" class="group-icon-huge"/>
                    <div id="group-icon-change" x-key="group_settings.general.icon_change"></div>
                  </div>
                  <div id="group-settings-inputs">
                    <div class="group-setting-input-container">
                      <span x-key="group_settings.general.name"></span>
                      <input id="group-name-change"/>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="group-settings-section-channels" class="settings-section group-settings-section">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="group_settings.channels.title"></span>
                <div class="flex-row">
                  <div class="flex-col">
                    <div id="group-settings-channel-list" class="flex-col">
                      <!--Channels reside here-->
                    </div>
                    <button id="channel-add-button" class="fill-width">+</button>
                  </div>
                  <div id="group-settings-channel-settings" class="flex-col">
                    <div class="group-setting-input-container">
                      <span x-key="group_settings.channels.name"></span>
                      <input id="channel-name-change"/>
                    </div>
                    <div class="group-setting-input-container">
                      <span x-key="group_settings.channels.voice"></span>
                      <label class="switch" style="margin-left: 0; margin-top: 2px;">
                        <input id="channel-voice-change" type="checkbox">
                        <span class="slider round"></span>
                      </label>
                    </div>
                    <button id="channel-remove-button" class="danger-button" x-key="group_settings.channels.delete"></button>
                  </div>
                </div>
              </div>
            </div>

            <div id="group-settings-section-invites" class="settings-section group-settings-section">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="group_settings.invites.title"></span>
                <div class="flex-col">
                  <div id="group-settings-invite-list" class="flex-col">
                    <!--Invites reside here-->
                  </div>
                  <button id="invite-create-button" class="apply-button" x-key="group_settings.invites.create"></button>
                </div>
              </div>
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="group_settings.invites.bots.title"></span>
                <div class="flex-col">
                  <input id="invite-bot-id" x-key-ph="group_settings.invites.bots.id_ph"></input>
                  <button id="invite-bot-button" class="apply-button" x-key="group_settings.invites.bots.invite"></button>
                </div>
              </div>
            </div>

            <div id="group-settings-section-roles" class="settings-section group-settings-section">
              <div class="settings-subsection">
                <span class="settings-subsection-title" x-key="group_settings.roles.title"></span>
                <div class="flex-row">
                  <div class="flex-col">
                    <button id="role-add-button" class="fill-width">+</button>
                    <div id="group-settings-role-list" class="flex-col">
                      <!--Roles reside here-->
                    </div>
                  </div>
                  <div id="group-settings-role-settings" class="flex-col">
                    <div class="group-setting-input-container">
                      <span x-key="group_settings.roles.name"></span>
                      <input id="role-name-change"/>
                    </div>
                    <div class="group-setting-input-container">
                      <span x-key="group_settings.roles.color"></span>
                      <input id="role-color-change" type="color"/>
                    </div>
                    <button id="role-remove-button" class="danger-button" x-key="group_settings.roles.delete"></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="mfa-qr-banner-bg" class="darken-bg" style="display: none;">
          <div id="mfa-qr-banner">
            <span style="margin-bottom: 20px;" x-key="mfa_qr.title"></span>
            <div id="mfa-qr-placeholder" style="margin-bottom: 20px;"></div>
            <span x-key="mfa_qr.line1"></span>
            <span x-key="mfa_qr.line2"></span>
            <span id="mfa-code-manual"></span>
            <button id="mfa-qr-ok" class="accent-button fill-width" x-key="mfa_qr.ok"></button>
          </div>
        </div>

        <table id="main-layout"><tbody><tr>
          <td id="channel-list-sidebar">
            <div id="channel-list-container" class="flex-col">
              <div id="channel-list-header" class="flex-row">
                <button id="group-leave" class="icon-button cg-button" x-key-tt="tooltips.group_leave">
                  <img src="icons/leave_group.png"/>
                </button>
                <span id="group-name"></span>
              </div>
              <div id="channel-list-area" class="scroll-area">
                <div id="channel-list" class="flex-col">
                  <!--Channels reside here-->
                </div>
              </div>
            </div>
          </td>

          <td id="central-field">
            <div id="central-layout" class="flex-col">
              <div id="group-panel-area" class="scroll-area">
                <!-- Group panels reside here -->
                <div class="group-action-panel" id="group-create-join-panel">
                  <img src="icons/group_add.png" class="cg-img">
                  <span x-key="group_list.create_join"></span>
                </div>
              </div>

              <div id="message-container-area" class="flex-col">
                <div id="message-area-title">
                  <div class="flex-row">
                    <button id="message-area-leave" class="icon-button cg-button" x-key-tt="tooltips.go_main"><img src="icons/leave.png"></button>
                    <button id="message-area-e2ee" class="icon-button" x-key-tt="tooltips.e2ee_info"><img src="icons/e2ee.png"></button>
                    <button id="message-area-voice" class="icon-button cg-button" x-key-tt="tooltips.voice.join"><img src="icons/voice.png"></button>
                    <span id="voice-status"></span>
                    <button id="message-area-voice-disconnect" class="icon-button cg-button" style="display:none">
                      <img src="icons/disconnect.png" x-key-tt="tooltips.voice.leave"></button>
                  </div>
                  <div id="voice-members">
                  </div>
                </div>
                <div id="message-scroll-area" class="scroll-area">
                  <div id="message-area" class="flex-col">
                    <!-- Messages reside here -->
                    <div id="message-area-header">
                      <p x-key="message_area.header"></p>
                    </div>
                  </div>
                </div>
                
                <div id="message-input-popup" class="flex-row">
                  <div id="message-input-container">
                    <div id="message-input-top">
                      <div id="message-section-add-btns" class="flex-row">
                        <button id="message-text-section-button"  class="icon-button cg-button" x-key-tt="tooltips.msg_section.text" ><img src="icons/add_text.png"></button>
                        <button id="message-file-section-button"  class="icon-button cg-button" x-key-tt="tooltips.msg_section.file" ><img src="icons/add_file.png"></button>
                        <button id="message-code-section-button"  class="icon-button cg-button" x-key-tt="tooltips.msg_section.code" ><img src="icons/add_code.png"></button>
                        <button id="message-quote-section-button" class="icon-button cg-button" x-key-tt="tooltips.msg_section.quote"><img src="icons/add_quote.png"></button>
                        <button id="message-poll-section-button"  class="icon-button cg-button" x-key-tt="tooltips.msg_section.poll" ><img src="icons/add_poll.png"></button>
                        <span id="message-editing"></span>
                        <span id="channel-typing"></span>
                        <div id="typing-dots" class="flex-row" style="display: none;">
                          <div id="typing-dot-1"></div>
                          <div id="typing-dot-2"></div>
                          <div id="typing-dot-3"></div>
                        </div>
                        <button id="message-send-button" class="icon-button cg-button"><img src="icons/send.png"></button>
                      </div>
                      <div id="mention-list"></div>
                      <div id="emoji-suggestions"></div>
                    </div>
                    <div id="message-input-sections">
                      <!-- Message sections reside here -->
                    </div>
                  </div>
                </div>

                <div id="e2ee-placeholder" style="display: none;" x-key="message_input.e2ee_notice"></div>
              </div>
            </div>
          </td>

          <td id="member-list-sidebar"><table id="member-list-container">
            <tr style="height: fit-content;"><td id="member-list-friend-header" class="flex-row">
              <span x-key="member_area.contacts.title"></span>
              <button id="friends-all"         class="icon-button cg-button" x-key-tt="tooltips.contact_type.all"><img src="icons/friend.png"/></button>
              <button id="friends-online"      class="icon-button cg-button" x-key-tt="tooltips.contact_type.online"><img src="icons/friend_online.png"/></button>
              <button id="friends-pending-in"  class="icon-button cg-button" x-key-tt="tooltips.contact_type.pending">
                <img src="icons/friend_pending_in.png"/>
                <div id="pin-cnt-container" class="bubble"><span id="pending-in-count">0</span></div>
              </button>
              <button id="friends-pending-out" class="icon-button cg-button" x-key-tt="tooltips.contact_type.sent"><img src="icons/friend_pending_out.png"/></button>
              <button id="friends-blocked"     class="icon-button cg-button" x-key-tt="tooltips.contact_type.blocked"><img src="icons/ban.png"/></button>

              <button id="friend-add"          class="icon-button cg-button" x-key-tt="tooltips.contact_type.send_rq"><img src="icons/friend_add.png"/></button>
            </td></tr>

            <tr style="height: fit-content;"><td class="input-container" id="user-search-bar" style="display: none;">
              <input id="user-search-input" class="fill-width" placeholder="username#00000"/>
              <button id="friend-add-commit" class="apply-button fill-width" x-key="member_area.contacts.send_rq"></button>
            </td></tr>

            <tr style="height: fit-content;"><td id="member-list-friend-type" x-key="member_area.contacts.all"></td></tr>

            <tr style="height: fit-content;"><td id="member-list-group-header" style="display: none;" x-key="member_area.contacts.group"></td></tr>

            <tr><td id="member-list-bar" class="flex-col">
              <!-- All members reside here -->
            </td></tr>

            <tr><td id="user-info-bar">
              <div class="user-avatar-container">
                <img id="self-avatar" class="user-avatar" x-key-tt="tooltips.open_settings"/>
                <img id="self-status" class="user-online"/>
              </div>

              <span id="self-status-text" class="user-status">loading</span>
              <div class="flex-row user-nickname-container">
                <span id="self-nickname" class="user-nickname">loading</span>
                <span id="self-tag" class="user-tag">#00000</span>
              </div>
            </td></tr>
          </table></td>
        </tr></tbody></table>
      </td></tr>

      <div id="floating-box-bg" class="darken-bg" style="display: none;">
        <div id="floating-box" class="flex-col">
          <span id="floating-box-header" style="font-size: 15px;">?</span>
          <span id="floating-box-text">?</span>
  
          <button id="floating-box-upd" class="accent-button fill-width" style="margin-top: 20px;" x-key="fb.update"></button>
          <button id="floating-box-ok"  class="fill-width" style="margin-top: 20px;" x-key="fb.ok"></button>
        </div>
      </div>

      <tr style="height: fit-content"><td style="padding: 0"><div id="user-select" style="display: show;" class="flex-col">
        <span id="user-select-title" x-key="account_selector.title"></span>
      </div></td></tr>

      <tr style="height: fit-content"><td style="padding: 0"><div id="login-form" style="display: none;" class="flex-col">
        <span class="form-head" x-key="login.email"></span>
        <span class="input-container"><input id="login-email" style="margin-bottom: 10px;" class="fill-width"/></span>
  
        <span class="form-head" x-key="login.password"></span>
        <span class="input-container" class="fill-width"><input id="login-password" type="password" class="fill-width"/></span>
  
        <button id="login-button" class="accent-button fill-width" x-key="login.confirm"></button>
        <button id="login-back-button" class="fill-width" x-key="login.back"></button>
      </div></td></tr>

      <tr style="height: fit-content"><td style="padding: 0"><div id="mfa-form" style="display: none;">
        <span x-key="login.mfa.title"></span>
        <br>
        <span class="input-container"><input id="login-mfa-code" style="margin-bottom: 10px;" class="fill-width"/></span>
        <br>
  
        <button id="mfa-login-button" class="accent-button fill-width" x-key="login.mfa.confirm"></button>
      </div></td></tr>

      <tr style="height: fit-content"><td style="padding: 0"><div id="signup-form" style="display: none;">
        <span class="form-head" x-key="signup.name"></span>
        <span id="username-required" style="display: none;" x-key="signup.required"></span>
        <br>
        <span class="input-container"><input id="signup-username" style="margin-bottom: 10px;" class="fill-width"/></span>
        <br>
  
        <span class="form-head" x-key="signup.email"></span>
        <span id="email-required" style="display: none;" x-key="signup.invalid"></span>
        <br>
        <span class="input-container"><input id="signup-email" style="margin-bottom: 10px;" class="fill-width"/></span>
        <br>
  
        <span class="form-head" x-key="signup.password"></span>
        <span id="password-strength-text" style="-webkit-background-clip: text;"></span>
        <br>
        <progress id="password-strength-meter" value="0" max="3" class="fill-width password-weak"></progress>
        <br>
        <span class="input-container"><input id="signup-password" type="password" class="fill-width"/></span>
        <br>
  
        <button id="signup-button" class="accent-button fill-width" x-key="signup.confirm"></button>
        <button id="signup-back-button" class="fill-width" x-key="signup.back"></button>
      </div></td></tr>
      
    </table>
  </body>
</html>
